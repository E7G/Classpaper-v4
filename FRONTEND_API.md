# ğŸš€ å‰ç«¯å¼€å‘æ–‡æ¡£ - Classpaper v4

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

Classpaper v4 æ˜¯ä¸€ä¸ªåŸºäº Web æŠ€æœ¯çš„æ¡Œé¢å£çº¸è¯¾è¡¨åº”ç”¨ï¼Œä½¿ç”¨çº¯å‰ç«¯æŠ€æœ¯æ ˆï¼ˆHTML5 + CSS3 + JavaScriptï¼‰æ„å»ºï¼Œé€šè¿‡ Rust åç«¯æä¾›ç³»ç»Ÿæ‰˜ç›˜åŠŸèƒ½ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Rust Backend              â”‚
â”‚        (ç³»ç»Ÿæ‰˜ç›˜åŠŸèƒ½)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Web Frontend               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  HTML5      â”‚  â”‚  CSS3       â”‚  â”‚
â”‚   â”‚  (ç»“æ„)     â”‚  â”‚  (æ ·å¼)     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚      JavaScript (é€»è¾‘)       â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚ ä¸»é€»è¾‘   â”‚  â”‚ è¯¾è¡¨é€»è¾‘ â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ main.js â”‚  â”‚ class.js â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚   â”‚  â”‚ æ—¥å†    â”‚  â”‚ å¸®åŠ©    â”‚   â”‚  â”‚
â”‚   â”‚  â”‚ event   â”‚  â”‚ help.js â”‚   â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶ç»“æ„
```
res/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ pico.css        # Pico CSS æ¡†æ¶
â”‚   â””â”€â”€ custom.css      # è‡ªå®šä¹‰æ ·å¼
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main.js         # ä¸»é€»è¾‘ (å£çº¸ã€æ—¶é—´ã€è¿›åº¦)
â”‚   â”œâ”€â”€ class.js        # è¯¾è¡¨é€»è¾‘
â”‚   â”œâ”€â”€ event_cal.js    # äº‹ä»¶æ—¥å†
â”‚   â”œâ”€â”€ help.js         # å‘Šç¤ºç‰Œ
â”‚   â””â”€â”€ api.js          # API æ¥å£ (é¢„ç•™)
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.js       # å…¨å±€é…ç½®
â”œâ”€â”€ audio/              # éŸ³é¢‘æ–‡ä»¶
â””â”€â”€ wallpaper/          # å£çº¸å›¾ç‰‡
```

## ğŸ”Œ æš´éœ²çš„ API æ¥å£

### ğŸŒ å…¨å±€å¯¹è±¡

#### CONFIG å¯¹è±¡
**æ–‡ä»¶**: `res/config/config.js`
**æè¿°**: å…¨å±€é…ç½®å¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰åº”ç”¨é…ç½®

```javascript
// è®¿é—®æ–¹å¼
window.CONFIG.lessons.displayMode    // "scroll" æˆ– "day"
window.CONFIG.notifications.enabled    // é€šçŸ¥å¼€å…³
window.CONFIG.wallpaperInterval        // å£çº¸åˆ‡æ¢é—´éš”(ç§’)
```

#### æ•°æ®å˜é‡
- `lessons`: è¯¾è¡¨æ•°æ®å­—ç¬¦ä¸²
- `events`: äº‹ä»¶æ•°æ®å­—ç¬¦ä¸²  
- `wallpaperlist`: å£çº¸æ•°ç»„
- `sth`: å‘Šç¤ºç‰Œå†…å®¹

### ğŸ¯ ä¸»é€»è¾‘ API (main.js)

#### å£çº¸æ§åˆ¶
```javascript
// ç«‹å³åˆ‡æ¢å£çº¸
window.changeWallpaper()

// é‡æ–°åŠ è½½å£çº¸å®šæ—¶å™¨
window.reloadWallpaperTimer()

// è·å–å½“å‰å£çº¸ç´¢å¼•
// é€šè¿‡å£çº¸æ•°ç»„ wallpaperlist è®¿é—®
```

#### æ—¶é—´ç›¸å…³
```javascript
// æ‰‹åŠ¨æ›´æ–°æ—¶é—´æ˜¾ç¤º
window.setTime()

// è·å–å½“å‰å‘¨æ¬¡
window.getYearWeek(new Date())

// è¿›åº¦æ¡æ›´æ–°
// è‡ªåŠ¨æ›´æ–°ï¼Œå¯é€šè¿‡ CONFIG.progressDescription è‡ªå®šä¹‰
```

### ğŸ“š è¯¾è¡¨ API (class.js)

#### æ ¸å¿ƒåŠŸèƒ½
```javascript
// åˆ·æ–°å½“å‰è¯¾ç¨‹æ˜¾ç¤º
window.nowClass()

// è·å–ä»Šæ—¥è¯¾ç¨‹æ•°æ®
window.getDayVectors()
// è¿”å›: {today_vec, prev_vec, next_vec}

// æ’­æ”¾é€šçŸ¥éŸ³æ•ˆ
window.playNotification(type, className)
// type: "regular" | "ending"
```

#### è¯¾ç¨‹æ•°æ®æ ¼å¼
```javascript
// è¯¾ç¨‹æ•°æ®ç»“æ„ (æ¯æ—¥12èŠ‚è¯¾)
const lessons = "æ˜ŸæœŸ,1,2,3,4,5,6,7,8,9,10,11\n,å‘¨ä¸€,è¯­æ–‡,æ•°å­¦,..."

// æ—¶é—´é…ç½®æ ¼å¼
CONFIG.lessons.times.schedule = [
  {
    period: 1,
    begin: "07:20",
    end: "07:55",
    rest: "07:55-08:00"
  }
]
```

### ğŸ“… äº‹ä»¶æ—¥å† API (event_cal.js)

#### äº‹ä»¶æ•°æ®æ ¼å¼
```javascript
// äº‹ä»¶æ•°æ®ç»“æ„
const events = "äº‹ä»¶,æ—¥æœŸ,\né«˜è€ƒ,2026-06-07T00:00:00,\nè€ƒè¯•,2025-01-15T00:00:00"

// äº‹ä»¶é…ç½®
CONFIG.events = [
  {
    name: "é«˜è€ƒ",
    date: "2026-06-07T00:00:00"
  }
]
```

### ğŸ”” é€šçŸ¥ç³»ç»Ÿ

#### é€šçŸ¥é…ç½®
```javascript
CONFIG.notifications = {
  enabled: true,           // æ€»å¼€å…³
  regularInterval: 5,      // å¸¸è§„æé†’é—´éš”(åˆ†é’Ÿ)
  endingTime: 5            // ä¸‹è¯¾æé†’æ—¶é—´(åˆ†é’Ÿ)
}
```

#### éŸ³æ•ˆæ–‡ä»¶
- `audio/regular_notification.mp3` - å¸¸è§„æé†’éŸ³æ•ˆ
- `audio/ending_notification.mp3` - ä¸‹è¯¾æé†’éŸ³æ•ˆ

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

### CSS å˜é‡
```css
:root {
  /* ä¸»é¢˜è‰² */
  --primary: #3daee9;
  --secondary: #93cee9;
  
  /* é€æ˜åº¦ */
  --glass-opacity: 0.8;
  --glass-blur: 10px;
}
```

### å“åº”å¼è®¾è®¡
- æ”¯æŒå¤šç§å±å¹•åˆ†è¾¨ç‡
- è‡ªé€‚åº”å£çº¸æ˜¾ç¤º
- ç§»åŠ¨ç«¯å‹å¥½

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¿«é€Ÿå¼€å§‹

#### 1. ä¿®æ”¹é…ç½®
```javascript
// ç¼–è¾‘ res/config/config.js
CONFIG.lessons.displayMode = "day";  // åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼
CONFIG.wallpaperInterval = 60;       // ä¿®æ”¹å£çº¸é—´éš”
```

#### 2. æ·»åŠ æ–°åŠŸèƒ½
```javascript
// åœ¨ main.js ä¸­æ·»åŠ æ–°API
window.myNewFeature = function() {
  // ä½ çš„ä»£ç 
}
```

#### 3. è‡ªå®šä¹‰æ ·å¼
```css
/* åœ¨ custom.css ä¸­æ·»åŠ  */
.my-custom-class {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
}
```

### è°ƒè¯•æŠ€å·§

#### æµè§ˆå™¨è°ƒè¯•
1. ç›´æ¥æ‰“å¼€ `res/index.html`
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åœ¨ Console ä¸­æµ‹è¯• API:
```javascript
// æµ‹è¯•API
window.changeWallpaper()
window.nowClass()
console.log(CONFIG)
```

#### æ—¥å¿—è¾“å‡º
```javascript
// æ‰€æœ‰æ¨¡å—éƒ½æœ‰æ—¥å¿—è¾“å‡º
console.log("å±å¹•å¤§å°ï¼š1920*1080")
console.log("[è¯¾ç¨‹å®šä½] é«˜äº®è¯¾ç¨‹ è¯­æ–‡")
```

## ğŸ“Š æ•°æ®æµ

### é…ç½®åŠ è½½æµç¨‹
```
config.js â†’ index.html â†’ å„æ¨¡å—åˆå§‹åŒ–
     â†“
CONFIGå¯¹è±¡ â†’ å…¨å±€å¯ç”¨
     â†“
lessons/events/wallpaperlist â†’ æ¨¡å—ä½¿ç”¨
```

### æ›´æ–°æœºåˆ¶
```
ç”¨æˆ·æ“ä½œ â†’ ä¿®æ”¹CONFIG â†’ æ¨¡å—å“åº” â†’ UIæ›´æ–°
å®šæ—¶å™¨ â†’ è‡ªåŠ¨åˆ·æ–° â†’ æ•°æ®æ£€æŸ¥ â†’ é€šçŸ¥æ’­æ”¾
```

## ğŸ”§ æ‰©å±•å»ºè®®

### å¯æ‰©å±•åŠŸèƒ½
1. **ä¸»é¢˜åˆ‡æ¢**: æ·»åŠ  CONFIG.theme æ”¯æŒ
2. **å¤©æ°”é›†æˆ**: æ·»åŠ å¤©æ°”APIè°ƒç”¨
3. **è‡ªå®šä¹‰å¸ƒå±€**: æ”¯æŒæ‹–æ‹½è°ƒæ•´ç»„ä»¶ä½ç½®
4. **æ•°æ®æŒä¹…åŒ–**: æœ¬åœ°å­˜å‚¨ç”¨æˆ·åå¥½

### API æ‰©å±•ç¤ºä¾‹
```javascript
// æ·»åŠ å¤©æ°”API
window.updateWeather = async function() {
  const weather = await fetchWeatherAPI();
  document.getElementById('weather').textContent = weather;
}

// æ·»åŠ ä¸»é¢˜åˆ‡æ¢
window.switchTheme = function(theme) {
  document.documentElement.setAttribute('data-theme', theme);
}
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¸¸è§é—®é¢˜
1. **é…ç½®ä¸ç”Ÿæ•ˆ**: æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜
2. **å›¾ç‰‡ä¸æ˜¾ç¤º**: æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®
3. **é€šçŸ¥ä¸å“**: æ£€æŸ¥éŸ³é¢‘æ–‡ä»¶æ˜¯å¦å­˜åœ¨

### å¼€å‘ç¯å¢ƒ
- æµè§ˆå™¨: Chrome/Firefox/Edge
- ç¼–è¾‘å™¨: VS Code (æ¨è)
- è°ƒè¯•: æµè§ˆå™¨å¼€å‘è€…å·¥å…·

---

ğŸ’¡ **æç¤º**: æ‰€æœ‰APIéƒ½æš´éœ²åœ¨windowå¯¹è±¡ä¸‹ï¼Œå¯ç›´æ¥åœ¨æµè§ˆå™¨æ§åˆ¶å°è°ƒç”¨æµ‹è¯•ï¼